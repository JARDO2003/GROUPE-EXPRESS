<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>GROUPE EXPRESS - Repas Universitaires</title>
    <meta name="google-site-verification" content="Dslg7SeH2D1d_eRjYSEi22ZtU86QGVdAexktPU969Gw" />
    <meta name="google-site-verification" content="_fI5_stSft_VB3HFOMJC4Iqjovlj0LL7ycXZamAGgOU" />
    <meta name="Repas √©tudiant pas cher" content="Livraison des repas aux √©tudiants sur le campus" />
    <meta name="Plats locaux pour √©tudiants" content="Livraison de repas universitaire sur le campus" />
    <meta name="Restauration universitaire priv√©e" content="plateforme de repas √©tudiants" />
    <meta name="Plateforme de repas √©tudiant" content="Groupe express" />
    <meta name="Groupe Express" content="Repas universitaires" />

    <!-- PWA Configuration -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ff4e00">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="GROUPE EXPRESS">
    <link rel="apple-touch-icon" href="image/u.png">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #000000;
            --primary-light: #100f0f;
            --primary-dark: #280059;
            --secondary: #131315;
            --accent: #f10505;
            --gradient: linear-gradient(45deg, #f3ecec, #d61215, #ffffff, #ff0004, #b62a2a, #d20d0d, #e2d9da, #f0eeea);
            --surface: #FFFFFF;
            --background: #FAFAFA;
            --on-surface: #262626;
            --on-surface-light: #8E8E8E;
            --border: #DBDBDB;
            --shadow: 0 2px 4px rgba(0,0,0,0.1);
            --shadow-lg: 0 8px 25px rgba(0,0,0,0.15);
            --radius: 12px;
            --radius-xl: 24px;
        }

        html {
            overflow-x: hidden;
            width: 100%;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--background);
            color: var(--on-surface);
            line-height: 1.6;
            min-height: 100vh;
            touch-action: manipulation;
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
            position: relative;
        }

        .ads-section {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            padding: 16px 0;
            overflow: hidden;
        }

        .ads-container {
            position: relative;
            height: 200px;
            border-radius: var(--radius);
            overflow: hidden;
            margin: 0 16px;
            box-shadow: var(--shadow);
        }

        .ads-slider {
            display: flex;
            animation: slideAds 45s infinite linear;
            width: 600%;
        }

        .ad-item {
            min-width: 16.666%;
            height: 200px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
            flex-shrink: 0;
            display: block;
            line-height: 0;
        }

        .ad-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0;
            display: block;
            vertical-align: bottom;
        }

        .ad-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 20px;
            text-align: center;
        }

        .ad-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .ad-subtitle {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        @keyframes slideAds {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .header {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header-content {
            max-width: 975px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 12px;
            gap: 8px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .header-logo {
            vertical-align: middle;
            height: 50px;
            width: 50px;
            object-fit: contain;
            border-radius: 10px;
            background: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.13);
            border: 2px solid #ff4e00;
        }

        .logo-text {
            font-size: 16px;
            font-weight: 600;
            color: var(--on-surface);
            font-family: 'Segoe UI', sans-serif;
            letter-spacing: -0.5px;
            white-space: nowrap;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: nowrap;
            overflow: visible;
        }

        .cart-icon {
            position: relative;
            background: none;
            border: none;
            font-size: 22px;
            cursor: pointer;
            padding: 6px;
            border-radius: 50%;
            transition: all 0.3s ease;
            min-width: 40px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .cart-icon:hover {
            background: var(--background);
            transform: scale(1.1);
        }

        .cart-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 11px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            min-width: 18px;
            border: 2px solid white;
        }

        .contact-service-btn {
            position: relative;
            background: linear-gradient(135deg, #25D366, #128C7E);
            border: none;
            font-size: 20px;
            cursor: pointer;
            padding: 6px;
            border-radius: 50%;
            transition: all 0.3s ease;
            min-width: 40px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            box-shadow: 0 2px 8px rgba(37, 211, 102, 0.3);
            flex-shrink: 0;
        }

        .contact-service-btn:hover {
            background: linear-gradient(135deg, #128C7E, #075E54);
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.5);
        }

        .time-alert {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 16px;
            text-align: center;
            font-weight: 600;
            display: none;
            font-size: 14px;
            position: relative;
            overflow: hidden;
        }

        .time-alert.urgent {
            animation: blinkAlert 2s infinite;
            background: linear-gradient(135deg, #ff3333, #ff6b6b);
        }

        .time-alert.warning {
            animation: blinkAlert 2s infinite;
            background: linear-gradient(135deg, #ff9800, #ffa726);
        }

        @keyframes blinkAlert {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.85;
                transform: scale(1.02);
            }
        }

        .nav-section {
            padding: 16px 0;
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            position: relative;
        }

        .scroll-indicator {
            text-align: center;
            padding: 8px 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-size: 13px;
            font-weight: 600;
            animation: slideDown 0.5s ease-out;
        }

        .scroll-arrow {
            display: inline-block;
            animation: bounce 2s infinite;
            margin-left: 8px;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        .nav-stories {
            max-width: 975px;
            margin: 0 auto;
            display: flex;
            gap: 16px;
            overflow-x: auto;
            padding: 0 16px;
            scrollbar-width: none;
        }

        .nav-stories::-webkit-scrollbar {
            display: none;
        }

        .nav-story {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 80px;
            text-decoration: none;
            color: inherit;
            padding: 8px;
            border-radius: 12px;
            position: relative;
        }

        .nav-story:active {
            background: var(--background);
        }

        .nav-story-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
            position: relative;
            padding: 3px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .nav-story:hover .nav-story-avatar {
            transform: scale(1.1);
            box-shadow: var(--shadow-lg);
        }

        .nav-story-image {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid white;
        }

        .nav-story-text {
            font-size: 12px;
            font-weight: 400;
            color: var(--on-surface);
            text-align: center;
            line-height: 1.2;
        }

        @keyframes bounceShop {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0) scale(1);
            }
            10% {
                transform: translateY(-8px) scale(1.05);
            }
            30% {
                transform: translateY(-4px) scale(1.02);
            }
            60% {
                transform: translateY(-6px) scale(1.03);
            }
        }

        @keyframes wiggleAnnonce {
            0%, 50%, 100% {
                transform: rotate(0deg) scale(1);
            }
            10%, 30% {
                transform: rotate(-5deg) scale(1.05);
            }
            20%, 40% {
                transform: rotate(5deg) scale(1.05);
            }
        }

        @keyframes rainbow {
            0% { background: linear-gradient(45deg, #ff6b6b, #4ecdc4); }
            25% { background: linear-gradient(45deg, #4ecdc4, #45b7d1); }
            50% { background: linear-gradient(45deg, #45b7d1, #96ceb4); }
            75% { background: linear-gradient(45deg, #96ceb4, #ffeaa7); }
            100% { background: linear-gradient(45deg, #ffeaa7, #ff6b6b); }
        }

        @keyframes glowPulse {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(255, 20, 147, 0.6), 0 0 30px rgba(255, 20, 147, 0.3);
            }
            50% { 
                box-shadow: 0 0 30px rgba(255, 20, 147, 0.9), 0 0 40px rgba(255, 20, 147, 0.5);
            }
        }

        .nav-story.shopping-animate .nav-story-avatar {
            animation: bounceShop 3s infinite ease-in-out, rainbow 4s infinite, glowPulse 2s infinite;
            background-size: 300% 300%;
        }

        .nav-story.annonce-animate .nav-story-avatar {
            animation: wiggleAnnonce 2.5s infinite ease-in-out, glowPulse 3s infinite;
            background: linear-gradient(45deg, #ff9a9e, #fecfef, #ff6b9d, #c44569);
            background-size: 300% 300%;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff0000;
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            font-size: 12px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid white;
            box-shadow: 0 2px 8px rgba(255, 0, 0, 0.4);
            z-index: 10;
            animation: badgePulse 2s infinite ease-in-out;
        }

        @keyframes badgePulse {
            0%, 100% { 
                transform: scale(1);
                background: #ff0000;
            }
            50% { 
                transform: scale(1.2);
                background: #ff3333;
            }
        }

        .container {
            max-width: 975px;
            margin: 0 auto;
            padding: 16px;
        }

        .main-feed {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .post-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
            margin-bottom: 16px;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .post-header {
            padding: 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--border);
        }

        .post-category {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .category-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            font-weight: 600;
        }

        .category-info h3 {
            font-size: 16px;
            font-weight: 600;
            margin: 0;
        }

        .category-info p {
            font-size: 14px;
            color: var(--on-surface-light);
            margin: 0;
        }

        .food-grid {
            display: grid;
            gap: 1px;
            background: var(--border);
        }

        @media (max-width: 480px) {
            .food-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 481px) and (max-width: 768px) {
            .food-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 769px) {
            .food-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
        }

        .food-item {
            position: relative;
            background: var(--surface);
            display: flex;
            flex-direction: column;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .food-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .food-item:active {
            transform: scale(0.98);
        }

        .food-item-image {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            transition: all 0.3s ease;
            cursor: zoom-in;
        }

        .food-item-image:hover {
            opacity: 0.9;
        }

        .food-item-content {
            padding: 12px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .food-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--on-surface);
            line-height: 1.3;
        }

        .food-description {
            font-size: 12px;
            color: var(--on-surface-light);
            flex: 1;
            line-height: 1.4;
        }

        .food-price {
            font-size: 16px;
            font-weight: 700;
            color: var(--primary);
            margin: 8px 0;
        }

        .add-to-cart-btn {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            min-height: 44px;
        }

        .add-to-cart-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .add-to-cart-btn:active {
            transform: translateY(0);
        }

        .add-to-cart-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .post-actions {
            padding: 16px;
            border-top: 1px solid var(--border);
        }

        .modal, .cart-modal, .degue-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.show, .cart-modal.show, .degue-modal.show {
            display: flex;
        }

        .modal-content, .cart-modal-content, .degue-modal-content {
            background: var(--surface);
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            padding: 2rem;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .modal-header h2 {
            margin-bottom: 0.5rem;
            font-size: 1.5rem;
        }

        .close-btn, .close-cart-btn {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.1);
            border: none;
            color: var(--on-surface);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 44px;
            min-height: 44px;
        }

        .cart-modal-header {
            padding: 2rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .cart-modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 0;
        }

        .cart-modal-body {
            padding: 2rem;
        }

        .cart-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 16px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-image {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            object-fit: cover;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .cart-item-price {
            font-size: 12px;
            color: var(--on-surface-light);
        }

        .cart-total {
            font-size: 1.25rem;
            font-weight: 700;
            text-align: center;
            margin: 1rem 0;
            padding: 1rem;
            background: var(--background);
            border-radius: 8px;
        }

        .remove-btn {
            background: none;
            border: none;
            color: var(--on-surface-light);
            cursor: pointer;
            padding: 8px;
            font-size: 20px;
            min-width: 44px;
            min-height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-btn:hover {
            background: var(--background);
            color: var(--accent);
        }

        .empty-state {
            text-align: center;
            padding: 48px 16px;
            color: var(--on-surface-light);
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .checkout-btn {
            width: 100%;
            background: var(--gradient);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 48px;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .checkout-btn:active {
            transform: scale(0.98);
        }

        .degue-modal-header {
            padding: 2rem;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .degue-modal-header h3 {
            margin-bottom: 0.5rem;
        }

        .degue-options {
            padding: 1rem 2rem;
        }

        .degue-option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .degue-option:hover {
            background: var(--background);
            border-color: var(--primary);
        }

        .degue-option-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .degue-option-icon {
            font-size: 1.5rem;
        }

        .degue-option-details h4 {
            font-size: 1rem;
            font-weight: 600;
            margin: 0;
        }

        .degue-option-details p {
            font-size: 0.875rem;
            color: var(--on-surface-light);
            margin: 0;
        }

        .degue-option-price {
            font-size: 1rem;
            font-weight: 700;
            color: var(--primary);
        }

        .selection-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .selection-modal.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .selection-modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 24px;
            width: 100%;
            max-width: 500px;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .selection-modal-header {
            padding: 2rem;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            background: linear-gradient(135deg, rgba(254, 44, 85, 0.1), rgba(255, 107, 157, 0.1));
        }

        .selection-modal-header h3 {
            margin-bottom: 0.5rem;
            font-size: 1.5rem;
            color: white;
            background: linear-gradient(45deg, #FE2C55, #FF6B9D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .selection-modal-header p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .selection-options {
            padding: 1.5rem 2rem;
        }

        .selection-option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.25rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        .selection-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .selection-option:hover::before {
            left: 100%;
        }

        .selection-option:hover {
            background: linear-gradient(135deg, rgba(254, 44, 85, 0.2), rgba(255, 107, 157, 0.2));
            border-color: #FE2C55;
            transform: translateX(5px);
            box-shadow: 0 8px 25px rgba(254, 44, 85, 0.3);
        }

        .selection-option:active {
            transform: scale(0.98);
        }

        .selection-option-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .selection-option-icon {
            font-size: 2rem;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .selection-option-details h4 {
            font-size: 1rem;
            font-weight: 600;
            margin: 0;
            color: white;
        }

        .selection-option-details p {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
            margin: 0.25rem 0 0 0;
        }

        .selection-option-price {
            font-size: 1.1rem;
            font-weight: 700;
            color: #FE2C55;
            background: rgba(254, 44, 85, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 12px;
            border: 1px solid rgba(254, 44, 85, 0.3);
        }

        .selection-cancel-btn {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 600;
        }

        .selection-cancel-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .close-selection-btn {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .close-selection-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .ads-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .ads-nav-btn:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: translateY(-50%) scale(1.1);
        }

        .ads-prev {
            left: 10px;
        }

        .ads-next {
            right: 10px;
        }

        .scroll-dots {
            display: flex;
            justify-content: center;
            gap: 6px;
            padding: 8px 0;
            margin-top: 8px;
        }

        .scroll-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #DBDBDB;
            transition: all 0.3s ease;
        }

        .scroll-dot.active {
            background: linear-gradient(45deg, #f3ecec, #d61215);
            width: 24px;
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .header-content {
                padding: 0 8px;
                gap: 6px;
            }
            
            .logo-section {
                gap: 8px;
            }
            
            .header-logo {
                height: 45px;
                width: 45px;
                border-radius: 8px;
            }
            
            .logo-text {
                font-size: 14px;
            }
            
            .header-actions {
                gap: 6px;
            }

            .cart-icon,
            .contact-service-btn {
                font-size: 20px;
                padding: 5px;
                min-width: 38px;
                min-height: 38px;
            }
            
            .cart-badge {
                width: 16px;
                height: 16px;
                font-size: 10px;
                min-width: 16px;
            }

            .ads-container {
                height: 180px;
                margin: 0 12px;
                border-radius: 8px;
            }

            .ad-item {
                height: 180px;
            }
            
            .ad-overlay {
                padding: 15px;
            }
            
            .ad-title {
                font-size: 1.1rem;
            }
            
            .ad-subtitle {
                font-size: 0.85rem;
            }

            .nav-story {
                min-width: 90px;
            }
            
            .container {
                padding: 12px;
            }

            .ads-nav-btn {
                width: 35px;
                height: 35px;
                font-size: 20px;
            }

            .scroll-dots {
                gap: 5px;
                padding: 6px 0;
            }
            
            .scroll-dot {
                width: 6px;
                height: 6px;
            }
            
            .scroll-dot.active {
                width: 20px;
            }
        }

        @media (max-width: 480px) {
            .header-content {
                padding: 0 6px;
                gap: 4px;
            }
            
            .logo-section {
                gap: 6px;
            }
            
            .header-logo {
                height: 40px;
                width: 40px;
                border-radius: 8px;
                border-width: 1.5px;
            }
            
            .logo-text {
                font-size: 12px;
                max-width: 100px;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            
            .header-actions {
                gap: 4px;
            }

            .cart-icon,
            .contact-service-btn {
                font-size: 18px;
                padding: 4px;
                min-width: 36px;
                min-height: 36px;
            }
            
            .cart-badge {
                width: 15px;
                height: 15px;
                font-size: 9px;
                min-width: 15px;
                top: -3px;
                right: -3px;
            }

            .ads-section {
                padding: 12px 0;
            }
            
            .ads-container {
                height: 160px;
                margin: 0 8px;
                border-radius: 8px;
            }

            .ad-item {
                height: 160px;
                display: block;
                line-height: 0;
            }
            
            .ad-image {
                display: block;
                vertical-align: bottom;
            }

            .ad-overlay {
                padding: 12px;
            }
            
            .ad-title {
                font-size: 0.95rem;
                margin-bottom: 0.3rem;
            }

            .ad-subtitle {
                font-size: 0.75rem;
                line-height: 1.3;
            }
            
            .ads-nav-btn {
                width: 32px;
                height: 32px;
                font-size: 18px;
            }
            
            .ads-prev {
                left: 5px;
            }
            
            .ads-next {
                right: 5px;
            }

            .modal-content, .cart-modal-content, .degue-modal-content, .selection-modal-content {
                max-height: 95vh;
                margin: 10px;
                border-radius: 16px;
            }
            
            .header {
                padding: 8px 0;
            }
            
            .nav-section {
                padding: 12px 0;
            }
            
            .post-header {
                padding: 12px;
            }
            
            .post-actions {
                padding: 12px;
            }

            .food-title {
                font-size: 13px;
            }
            
            .food-description {
                font-size: 11px;
            }
            
            .food-price {
                font-size: 14px;
            }
            
            .add-to-cart-btn {
                padding: 10px 12px;
                font-size: 13px;
            }
            
            .food-item-content {
                padding: 10px;
            }
        }

        @media (max-width: 375px) {
            .header-content {
                padding: 0 4px;
            }
            
            .header-logo {
                height: 36px;
                width: 36px;
            }
            
            .logo-text {
                font-size: 11px;
                max-width: 80px;
            }

            .cart-icon,
            .contact-service-btn {
                font-size: 16px;
                padding: 3px;
                min-width: 32px;
                min-height: 32px;
            }
            
            .cart-badge {
                width: 14px;
                height: 14px;
                font-size: 8px;
                min-width: 14px;
            }

            .ads-container {
                height: 140px;
                margin: 0 8px;
            }

            .ad-item {
                height: 140px;
            }
            
            .ad-overlay {
                padding: 10px;
            }
            
            .ad-title {
                font-size: 0.85rem;
                margin-bottom: 0.25rem;
            }

            .ad-subtitle {
                font-size: 0.7rem;
            }
        }

        @media (max-width: 768px) {
            input[type="text"], 
            input[type="email"], 
            input[type="tel"], 
            textarea {
                font-size: 16px !important;
            }
        }

    </style>
</head>
<body>
    <div class="time-alert" id="time-alert">
        Les commandes sont ferm√©es. Revenez entre 18h00 et 10h00 pour commander.
    </div>

    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <img src="image/GE.jpg" alt="Logo GROUPE EXPRESS" class="header-logo">
                <div class="logo-text">GROUPE EXPRESS</div>
            </div>
            <div class="header-actions">
                <button class="cart-icon" onclick="toggleCart()" id="cart-button">
                    üõí
                    <span class="cart-badge" id="cart-badge" style="display: none;">0</span>
                </button>
                
                <a href="tel:+2250719983044" class="contact-service-btn" title="Appeler le service client">
                    üìû 
                </a>
            </div>
        </div>
    </header>

    <section class="ads-section">
        <div class="ads-container">
            <div class="ads-slider" id="ads-slider">
                <div class="ad-item" onclick="window.open('annonce.html', '_blank')">
                    <img src="image/vi.jpg" alt="Promotion Sp√©ciale" class="ad-image">
                    <div class="ad-overlay">
                        <div class="ad-title">üî• Promotion Sp√©ciale</div>
                        <div class="ad-subtitle">Qu'en dites vous? 3 Plats offerts √† 1500f alors commandez d√®s maintenant</div>
                    </div>
                </div>
                
                <div class="ad-item" onclick="window.open('annonce.html', '_blank')">
                    <img src="image/MEG2.jpg" alt="Nouveau Menu" class="ad-image">
                    <div class="ad-overlay">
                        <div class="ad-title">üÜï Nouveau Menu</div>
                        <div class="ad-subtitle">Rendez-vous au rez-de-chauss√©e pour le retrait de vos commandes</div>
                    </div>
                </div>
                
                <div class="ad-item" onclick="window.open('annonce.html', '_blank')">
                    <img src="image/meg1.jpg" alt="Livraison Express" class="ad-image">
                    <div class="ad-overlay">
                        <div class="ad-title">‚ö° Pour tr√®s bient√¥t</div>
                        <div class="ad-subtitle"></div>
                    </div>
                </div>
                
                <div class="ad-item" onclick="window.open('annonce.html', '_blank')">
                    <img src="image/vi.jpg" alt="Promotion Sp√©ciale" class="ad-image">
                    <div class="ad-overlay">
                        <div class="ad-title">üî• Promotion Sp√©ciale</div>
                        <div class="ad-subtitle">Qu'en dites vous? 3 Plats offerts √† 1500f alors commandez d√®s maintenant</div>
                    </div>
                </div>
                <div class="ad-item" onclick="window.open('annonce.html', '_blank')">
                    <img src="image/MEG2.jpg" alt="Nouveau Menu" class="ad-image">
                    <div class="ad-overlay">
                        <div class="ad-title">üÜï Nouveau Menu</div>
                        <div class="ad-subtitle">Rendez-vous au rez-de-chauss√©e pour le retrait de vos commandes</div>
                    </div>
                </div>
                <div class="ad-item" onclick="window.open('annonce.html', '_blank')">
                    <img src="image/meg1.jpg" alt="Livraison Express" class="ad-image">
                    <div class="ad-overlay">
                        <div class="ad-title">‚ö° Pour tr√®s bient√¥t</div>
                        <div class="ad-subtitle"></div>
                    </div>
                </div>
            </div>
            <button class="ads-nav-btn ads-prev" onclick="slideAds('prev')">‚Äπ</button>
            <button class="ads-nav-btn ads-next" onclick="slideAds('next')">‚Ä∫</button>
        </div>
    </section> 
    
    <section class="nav-section">
        <div class="scroll-indicator">
            Scrollez pour d√©couvrir tous nos menus d√©licieux <span class="scroll-arrow">üëá</span>
        </div>
        <div class="nav-stories">
            <a href="shopping.html" class="nav-story shopping-animate">
                <div class="nav-story-avatar">
                    üõçÔ∏è
                </div>
                <div class="nav-story-text">Express-Shopping</div>
            </a>
            <div class="nav-story" onclick="toggleOrders()">
                <div class="nav-story-avatar">
                    üì¶
                </div>
                <div class="nav-story-text">Historique de mes commandes</div>
            </div>
            <a href="actualit√©.html" class="nav-story">
                <div class="nav-story-avatar">
                    <img src="image/re.jpg" alt="Gb√®r√® universitaire" class="nav-story-image">
                </div>
                <div class="nav-story-text">R√©seau social</div>
            </a>
            <a href="merlin.html" class="nav-story">
                <div class="nav-story-avatar">
                    <img src="image/tp.jpg" alt="comp√©tition" class="nav-story-image">
                </div>
                <div class="nav-story-text">Gagner un plat</div>
            </a>
            <a href="annonce.html" class="nav-story annonce-animate">
                <div class="nav-story-avatar">
                    üì¢
                    <div class="notification-badge">7</div>
                </div>
                <div class="nav-story-text">Annonce</div>
            </a>
            <a href="apropos.html" class="nav-story">
                <div class="nav-story-avatar">
                    ‚ÑπÔ∏è
                </div>
                <div class="nav-story-text">A propos</div>
            </a>
            <a href="fournisseur.html" class="nav-story">
                <div class="nav-story-avatar">
                    üë®‚Äçüç≥
                </div>
                <div class="nav-story-text">Fournisseur</div>
            </a>
        </div>
        
        <div class="scroll-dots" id="scroll-dots">
            <div class="scroll-dot active"></div>
            <div class="scroll-dot"></div>
            <div class="scroll-dot"></div>
        </div>
    </section>

    <!-- MODAL HISTORIQUE COMMANDES -->
    <div class="modal" id="orders-modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close-btn" onclick="toggleOrders()">&times;</button>
                <h2>üßæ Mes Commandes</h2>
                <p>Historique de vos commandes r√©centes</p>
            </div>
            <div style="padding: 2rem;">
                <div id="orders-list">
                    <div class="empty-state">
                        <div class="empty-state-icon">üõí</div>
                        <h3>Aucune commande</h3>
                        <p>Vos commandes appara√Ætront ici</p>
                    </div>
                </div>
                <button onclick="clearOrders()" class="checkout-btn" style="background: linear-gradient(135deg, #dc3545, #c82333); margin-top: 1rem;">
                    üóëÔ∏è Vider l'historique
                </button>
            </div>
        </div>
    </div>

    <!-- MODAL SELECTION (DEGUE) -->
    <div class="degue-modal" id="degue-modal">
        <div class="degue-modal-content">
            <div class="degue-modal-header">
                <h3 id="degue-modal-title">ü•õ Choisir votre format de D√™gu√™</h3>
                <p>S√©lectionnez la taille qui vous convient</p>
            </div>
            <div class="degue-options" id="degue-options">
            </div>
            <div style="padding: 0 2rem 2rem;">
                <button onclick="closeDegueModal()" style="width: 100%; background: var(--border); color: var(--on-surface); border: none; padding: 1rem; border-radius: 8px; cursor: pointer;">
                    Annuler
                </button>
            </div>
        </div>
    </div>

    <!-- MODAL PANIER -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-modal-content">
            <div class="cart-modal-header">
                <h3 class="cart-modal-title">üõí Mon Panier</h3>
                <button class="close-cart-btn" onclick="toggleCart()">&times;</button>
            </div>
            <div class="cart-modal-body">
                <div class="cart-items" id="cart-items">
                    <div class="empty-state">
                        <div class="empty-state-icon">üõí</div>
                        <p>Votre panier est vide</p>
                    </div>
                </div>
                
                <div class="cart-total" id="cart-total">
                    Total: 0 FCFA
                </div>
                
                <form id="order-form">
                    <button type="submit" class="checkout-btn">
                        üéØ Commander maintenant
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- MODAL SELECTION (RIZ, TCHEP, PORC, ATTIEKE) -->
    <div class="selection-modal" id="selection-modal">
        <div class="selection-modal-content">
            <button class="close-selection-btn" onclick="closeSelectionModal()">&times;</button>
            <div class="selection-modal-header">
                <h3 id="selection-modal-title">Faites votre choix</h3>
                <p id="selection-modal-subtitle">S√©lectionnez votre option pr√©f√©r√©e</p>
            </div>
            <div class="selection-options" id="selection-options">
            </div>
            <div style="padding: 0 2rem 2rem;">
                <button class="selection-cancel-btn" onclick="closeSelectionModal()">
                    ‚ùå Annuler
                </button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="main-feed">
            <!-- P√ÇTES & PETIT POIS -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-category">
                        <div class="category-avatar">üçù</div>
                        <div class="category-info">
                            <h3>P√¢tes & Petit pois</h3>
                            <p>Les classiques revisit√©s</p>
                        </div>
                    </div>
                </div>
                
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/spa.jpg" alt="Spaghetti rognon" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Spaghetti rognon</div>
                            <div class="food-description">Spaghetti pr√©par√© avec du rognon</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Spaghetti rognon', 500, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                    
                    <div class="food-item">
                        <img src="image/spaghetti nouv.jpg" alt="Spaghetti foi" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Spaghetti foi</div>
                            <div class="food-description">Spaghetti pr√©par√© avec du foie</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Spaghetti foi', 500, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/vi.jpg" alt="Spaghetti √† la viande" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Spaghetti √† la viande</div>
                            <div class="food-description">Spaghetti avec de la viande hach√©e</div>
                            <div class="food-price">800 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Spaghetti √† la viande', 800, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/SPAHRA .jpg" alt="Spaghetti rognon + oeuf grill√©" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Spaghetti ROGNON + oeuf grill√©</div>
                            <div class="food-description">Spaghetti ROGNON + oeuf grill√©</div>
                            <div class="food-price">700 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Spaghetti ROGNON + oeuf grill√©', 700, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/spagh oeuf.jpg" alt="Spaghetti foi+oeuf grill√©" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Spaghetti oeuf grill√©</div>
                            <div class="food-description">Spaghetti + oeuf grill√©</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Spaghetti foi + oeuf grill√©', 500, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/sauter revenir foie .jpg" alt="Spaghetti sauter revenir au foie" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Spaghetti sauter revenir au foie</div>
                            <div class="food-description">Spaghetti sauter revenir au foie</div>
                            <div class="food-price">1500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Spaghetti sauter revenir au foie', 1500, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/sauter revenir rognon.jpg" alt="Spaghetti sauter revenir au rognon" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Spaghetti sauter revenir au rognon</div>
                            <div class="food-description">Spaghetti sauter revenir au rognon</div>
                            <div class="food-price">1500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Spaghetti sauter revenir au rognon', 1500, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/revenir viande.jpg" alt="Spaghetti sauter Revenir viande" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Spaghetti sauter revenir viande</div>
                            <div class="food-description">Spaghetti sauter revenir viande</div>
                            <div class="food-price">1500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Spaghetti sauter revenir viande', 1500, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/petit poid.jpg" alt="Petit pois au rognon" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Petit pois rognon</div>
                            <div class="food-description">Petit pois accompagn√© de rognon</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Petit pois rognon', 1000, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/petit poid rogno,.jpg" alt="Petit pois √† la viande" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Petit pois √† la viande</div>
                            <div class="food-description">Petit pois √† la viande</div>
                            <div class="food-price">1500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Petit pois √† la viande', 1500, 'A')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="post-actions">
                    <p style="font-size: 0.9rem; color: var(--on-surface); text-align: center; font-style: italic; padding: 0.5rem; background: var(--background); border-radius: 8px;">
                        "La vie est trop courte pour manger mal - R√©galez-vous avec nos d√©lices !" 
                    </p>
                </div>
            </div>

            <!-- TCH√àPES -->
            <div class="post-card">
                <div class="post-header">
                    <divclass="post-category">
                        <div class="category-avatar">üçö</div>
                        <div class="category-info">
                            <h3>Tch√®pes</h3>
                            <p>Nos plats de tch√®pe savoureux</p>
                        </div>
                    </div>
                </div>
                
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/tcheo poi.jpg" alt="Tch√®pe au poisson" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Tch√®pe au poisson</div>
                            <div class="food-description">Tch√®pe accompagn√© de poisson frais</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectTchep('Tch√®pe au poisson', 500)">
                                üìã Choisir le type
                            </button>
                        </div>
                    </div>
                    
                    <div class="food-item">
                        <img src="image/tcheo.jpg" alt="Tch√®pe au poulet" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Tch√®pe au poulet</div>
                            <div class="food-description">Tch√®pe au poulet</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectTchep('Tch√®pe au poulet', 1000)">
                                üìã Choisir le type
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/tchep poulet.jpg" alt="Tch√®pe au poulet XXL" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Tch√®pe au poulet XXL</div>
                            <div class="food-description">Tch√®pe au poulet XXL</div>
                            <div class="food-price">2000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectTchep('Tch√®pe au poulet XXL', 2000)">
                                üìã Choisir le type
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/tchep ara.jpg" alt="Tch√®pe accompagn√© de la viande XXL" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Tch√®pe viande XXL</div>
                            <div class="food-description">Tch√®pe accompagn√© de la viande</div>
                            <div class="food-price">2000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectTchep('Tch√®pe viande XXL', 2000)">
                                üìã Choisir le type
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="post-actions">
                    <p style="font-size: 0.9rem; color: var(--on-surface); text-align: center; font-style: italic; padding: 0.5rem; background: var(--background); border-radius: 8px;">
                        üçö "Chaque bouch√©e est une c√©l√©bration - Savourez la tradition !" üåü
                    </p>
                </div>
            </div>

            <!-- RIZ -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-category">
                        <div class="category-avatar">üçõ</div>
                        <div class="category-info">
                            <h3>RIZ</h3>
                            <p>D√©couvrez nos plats de riz</p>
                        </div>
                    </div>
                </div>
                
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/sauce arrrrachide.jpg" alt="Riz sauce arachide" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Riz sauce arachide</div>
                            <div class="food-description">Riz sauce arachide</div>
                            <div class="food-price">√Ä partir de 500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectRice('Riz sauce arachide')">
                                üìã S√©lectionner le format
                            </button>
                        </div>
                    </div>
                    
                    <div class="food-item">
                        <img src="image/riz nouv.jpg" alt="Riz sauce feuille" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Riz sauce feuille</div>
                            <div class="food-description">Riz accompagn√© de sauce aux feuilles vertes</div>
                            <div class="food-price">√Ä partir de 500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectRice('Riz sauce feuille')">
                                üìã S√©lectionner le format
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/RIZ SA TOMA.jpg" alt="Riz sauce tomate" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Riz sauce tomate</div>
                            <div class="food-description">Riz sauce tomate</div>
                            <div class="food-price">√Ä partir de 500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectRice('Riz sauce tomate')">
                                üìã S√©lectionner le format
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="post-actions">
                    <p style="font-size: 0.9rem; color: var(--on-surface); text-align: center; font-style: italic; padding: 0.5rem; background: var(--background); border-radius: 8px;">
                        üçõ "Le bonheur commence dans votre assiette - Commandez sans h√©siter !" 
                    </p>
                </div>
            </div>

            <!-- PORC AU FOUR -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-category">
                        <div class="category-avatar">üê∑</div>
                        <div class="category-info">
                            <h3>Porc au four</h3>
                        </div>
                    </div>
                </div>
                
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/PORC1.jpg" alt="Porc au four + Atti√©k√®" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Porc au four (2 boules)</div>
                            <div class="food-description">Porc au four avec 2 boules d'atti√©k√®</div>
                            <div class="food-price">1200 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectPorc(1200, '2 boules')">
                                üìã Choisir la pr√©paration
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/PORC2.jpg" alt="Porc au four + Atti√©k√® XXL" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Porc au four XXL</div>
                            <div class="food-description">Portion g√©n√©reuse de porc avec atti√©k√®</div>
                            <div class="food-price">2000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="selectPorc(2000, 'XXL')">
                                üìã Choisir la pr√©paration
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="post-actions">
                    <p style="font-size: 0.9rem; color: var(--on-surface); text-align: center; font-style: italic; padding: 0.5rem; background: var(--background); border-radius: 8px;">
                        "Un d√©lice unique qui ravira vos papilles - Laissez-vous tenter !" 
                    </p>
                </div>
            </div>

           <!-- ATTI√âK√à SP√âCIALIT√â -->
<div class="post-card">
    <div class="post-header">
        <div class="post-category">
            <div class="category-avatar">üåæ</div>
            <div class="category-info">
                <h3>Atti√©k√® sp√©cialit√©</h3>
                <p>D√©couvrez nos plats d'atti√©k√® bien r√©ussi</p>
            </div>
        </div>
    </div>

    <div class="food-grid">
        <div class="food-item">
            <img src="image/ChatGPT Image 21 sept. 2025, 17_49_08.png" alt="Atti√©k√® poisson alloko" class="food-item-image">
            <div class="food-item-content">
                <div class="food-title">Atti√©k√® poisson alloko + Condiment</div>
                <div class="food-description">Atti√©k√® servi avec du poisson</div>
                <div class="food-price">√Ä partir de 1000 FCFA</div>
                <button class="add-to-cart-btn" onclick="selectAttiekePoisson()">
                    üìã Choisir le format
                </button>
            </div>
        </div>

        <div class="food-item">
            <img src="image/20250921_1803_Qualit√© Image Am√©lior√©e_remix_01k5pg4v3weeea02t6htn46kjd.png" alt="Atti√©k√® poulet alloko + Condiments" class="food-item-image">
            <div class="food-item-content">
                <div class="food-title">Atti√©k√® poulet alloko + Condiment</div>
                <div class="food-description">Atti√©k√® poulet</div>
                <div class="food-price">√Ä partir de 1500 FCFA</div>
                <button class="add-to-cart-btn" onclick="selectAttiekePouletAlloko()">
                    üìã Choisir le format
                </button>
            </div>
        </div>
        
        <div class="food-item">
            <img src="image/ATIEKEPOULET.jpg" alt="Atti√©k√® poulet + Condiments" class="food-item-image">
            <div class="food-item-content">
                <div class="food-title">Atti√©k√® poulet + Condiment</div>
                <div class="food-description">Atti√©k√® poulet</div>
                <div class="food-price">√Ä partir de 1000 FCFA</div>
                <button class="add-to-cart-btn" onclick="selectAttiekePoulet()">
                    üìã Choisir le format
                </button>
            </div>
        </div>

        <div class="food-item">
            <img src="image/garba.jpg" alt="Sp√©cialit√© Garba" class="food-item-image">
            <div class="food-item-content">
                <div class="food-title">Sp√©cialit√© Garba</div>
                <div class="food-description">GARBA</div>
                <div class="food-price">√Ä partir de 500 FCFA</div>
                <button class="add-to-cart-btn" onclick="selectGarba()">
                    üìã Choisir le format
                </button>
            </div>
        </div>

        <div class="food-item">
            <img src="image/at.jpg" alt="Atti√©k√® poisson" class="food-item-image">
            <div class="food-item-content">
                <div class="food-title">Atti√©k√® poisson</div>
                <div class="food-description">Atti√©k√® poisson</div>
                <div class="food-price">1000 FCFA</div>
                <button class="add-to-cart-btn" onclick="promptAddToCart('ATTIEKE POISSON', 1000, 'E')">
                    üõí Ajouter au panier
                </button>
            </div>
        </div>
    </div>
    
    <div class="post-actions">
        <p class="promotional-text">
            üåæ "L'authenticit√© dans chaque grain - Go√ªtez √† notre tradition !" 
        </p>
    </div>
</div>

            <!-- MADELEINES -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-category">
                        <div class="category-avatar">üç∞</div>
                        <div class="category-info">
                            <h3>Madeleines</h3>
                            <p>Nos d√©licieuses madeleines</p>
                        </div>
                    </div>
                </div>
                 
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/VAN2.jpg" alt="Madeleine √† la vanille" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Madeleine √† la vanille</div>
                            <div class="food-description">Madeleine √† la vanille</div>
                            <div class="food-price">100 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Madeleine √† la vanille', 100, 'G')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                    
                    <div class="food-item">
                        <img src="image/VA1.jpg" alt="Madeleine au chocolat" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Madeleine au chocolat</div>
                            <div class="food-description">Madeleine au chocolat</div>
                            <div class="food-price">200 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Madeleine au chocolat', 200, 'G')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                  
                    <div class="food-item">
                        <img src="image/VA1.jpg" alt="Sp√©cial promo √©tudiant 2 vanille + 1 chocolat 300F" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Sp√©cial promo 2 vanille + 1 chocolat</div>
                            <div class="food-description">Offre √©tudiante sp√©ciale</div>
                            <div class="food-price">300 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Sp√©cial promo √©tudiant 2 vanille + 1 chocolat 300F', 300, 'G')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/VAN2.jpg" alt="Sp√©cial promo √©tudiant 6 vanille 500F" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Sp√©cial promo 6 vanille</div>
                            <div class="food-description">Offre √©tudiante sp√©ciale</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Sp√©cial promo √©tudiant 6 vanille 500F', 500, 'G')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                    
                    <div class="food-item">
                        <img src="image/VAN2.jpg" alt="Sp√©cial promo √©tudiant 12 vanille 1000F" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Sp√©cial promo 12 vanille</div>
                            <div class="food-description">Offre √©tudiante sp√©ciale</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Sp√©cial promo √©tudiant 12 vanille 1000F', 1000, 'G')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/VA1.jpg" alt="Sp√©cial promo √©tudiant 6 Madeleine au chocolat 1000F" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Sp√©cial promo 6 chocolat</div>
                            <div class="food-description">Offre √©tudiante sp√©ciale</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Sp√©cial promo √©tudiant 6 Madeleine au chocolat 1000F', 1000, 'G')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="post-actions">
                    <p style="font-size: 0.9rem; color: var(--on-surface); text-align: center; font-style: italic; padding: 0.5rem; background: var(--background); border-radius: 8px;">
                        üç∞ "Des madeleines moelleuses pour tous les moments gourmands !" 
                    </p>
                </div>
            </div>

            <!-- JUS D'ORANGE -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-category">
                        <div class="category-avatar">üßÉ</div>
                        <div class="category-info">
                            <h3>Jus d'orange & Bissap</h3>
                            <p>Nos d√©licieux jus</p>
                        </div>
                    </div>
                </div>
                 
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/jus.jpg" alt="Jus d'orange" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Jus d'orange</div>
                            <div class="food-description">Jus d'orange frais</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Jus d\'orange', 500, 'H')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/bissap.jpg" alt="Jus de bissap" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Jus de bissap</div>
                            <div class="food-description">Jus de bissap frais</div>
                            <div class="food-price">250 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Jus de bissap', 250, 'H')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="post-actions">
                    <p style="font-size: 0.9rem; color: var(--on-surface); text-align: center; font-style: italic; padding: 0.5rem; background: var(--background); border-radius: 8px;">
                        üßÉ "Des jus frais pour vous rafra√Æchir !" 
                    </p>
                </div>
            </div>

            <!-- PASTEL -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-category">
                        <div class="category-avatar">ü•ü</div>
                        <div class="category-info">
                            <h3>Pastel</h3>
                            <p>Nos d√©licieux pastels en box</p>
                        </div>
                    </div>
                </div>
                 
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/PA.jpg" alt="Box de 6 √† 1000F" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Box de 6 pastels</div>
                            <div class="food-description">6 pastels d√©licieux</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Box de 6 √† 1000F PASTEL', 1000, 'I')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/past0.jpg" alt="Box de 8 √† 1500F" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Box de 8 pastels</div>
                            <div class="food-description">8 pastels d√©licieux</div>
                            <div class="food-price">1500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Box de 8 √† 1500F PASTEL', 1500, 'I')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/past.jpg" alt="Box de 12 √† 2000F" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Box de 12 pastels</div>
                            <div class="food-description">12 pastels d√©licieux</div>
                            <div class="food-price">2000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Box de 12 √† 2000F PASTEL', 2000, 'I')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SUCRERIES -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-category">
                        <div class="category-avatar">üçπ</div>
                        <div class="category-info">
                            <h3>NOS SUCRERIES</h3>
                            <p>Go√ªtez et variez vos plaisirs</p>
                        </div>
                    </div>
                </div>
                 
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/orangina.jpg" alt="Orangina" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Orangina</div>
                            <div class="food-description">Orangina</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Orangina', 500, 'I')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/kapa300.jpg" alt="Kapa" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Kapa</div>
                            <div class="food-description">Kapa</div>
                            <div class="food-price">300 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Kapa', 300, 'I')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/codys.jpg" alt="Cody's" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Cody's</div>
                            <div class="food-description">Cody's</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Codys', 500, 'I')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/koka.jpg" alt="Coca-Cola" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Coca-Cola</div>
                            <div class="food-description">Coca-Cola 50cl</div>
                            <div class="food-price">500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Coca cola 50cl', 500, 'I')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/cook300.jpg" alt="Coca-Cola" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Coca-Cola</div>
                            <div class="food-description">Coca-Cola 33cl</div>
                            <div class="food-price">300 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Coca cola 33cl', 300, 'I')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- DESSERT -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-category">
                        <div class="category-avatar">üçï</div>
                        <div class="category-info">
                            <h3>FAST FOOD</h3>
                            <p>La version francaise de nos Fast Food</p>
                        </div>
                    </div>
                </div>
                 
                <div class="food-grid">
                    <div class="food-item">
                        <img src="image/crepechocolat.jpg" alt="Cr√™pe au chocolat 4 √† 1000f" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Cr√™pe au chocolat 4 √† 1000f</div>
                            <div class="food-description">Cr√™pe garnie de chocolat 4 √† 1000f</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Cr√™pe au chocolat 4 √† 1000f', 1000, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/manaich.jpg" alt="Manaich" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Manaich</div>
                            <div class="food-description">Manaich</div>
                            <div class="food-price">3000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Manaich', 3000, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/pitzamini.jpg" alt="Pizza Pizza Mini" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Pizza  Mini</div>
                            <div class="food-description">Pizza Mini</div>
                            <div class="food-price">3500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Pizza Mini', 3500, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/crepsal√©.jpg" alt="Cr√™pe sal√©es au Jambon " class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Cr√™pe sal√©es au Jambon 1000f la portion</div>
                            <div class="food-description">Cr√™pe sal√©es au Jambon 1000f la portion</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Cr√™pe sal√©es au Jambon 1000f la portion', 1000, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/crepessal√©viande.jpg" alt="Cr√™pe sal√©es √† la Viande" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Cr√™pe sal√©es √† la Viande 1000f la portion</div>
                            <div class="food-description">Cr√™pe sal√©es √† la Viande 1000f la portion</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Cr√™pe sal√©es √† la Viande 1000f la portion', 1000, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>

                    <div class="food-item">
                        <img src="image/crepes nature.jpg" alt="Cr√™pe nature 5 √† 1000F" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Cr√™pe nature 5 √† 1000F</div>
                            <div class="food-description">Cr√™pe nature 5 √† 1000F</div>
                            <div class="food-price">1000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Cr√™pe nature 5 √† 1000F', 1000, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                    <div class="food-item">
                        <img src="image/crepes au chocola bos ec.jpg" alt="Cr√™pe nature BOX √©tudiant" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Cr√™pe nature BOX √©tudiant</div>
                            <div class="food-description">Cr√™pe nature BOX √©tudiant</div>
                            <div class="food-price">5000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Cr√™pe nature BOX √©tudiant', 5000, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                      <div class="food-item">
                        <img src="image/pitzamini.jpg" alt="Pizza Maxi" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Pizza Maxi</div>
                            <div class="food-description">Pizza Maxi</div>
                            <div class="food-price">5000 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Pizza Maxi', 5000, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                     <div class="food-item">
                        <img src="image/minipizza.jpg" alt="Mini Pizza 10 √† 1500f" class="food-item-image">
                        <div class="food-item-content">
                            <div class="food-title">Mini Pizza 10 √† 1500f</div>
                            <div class="food-description">Mini Pizza 10 √† 1500f</div>
                            <div class="food-price">1500 FCFA</div>
                            <button class="add-to-cart-btn" onclick="promptAddToCart('Mini Pizza 10 √† 1500f', 1500, 'K')">
                                üõí Ajouter au panier
                            </button>
                        </div>
                    </div>
                </div>

    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBsGrY-AqYMoI70kT3WMxLgW0HwYA4KyaQ",
        authDomain: "livraison-c8498.firebaseapp.com",
        projectId: "livraison-c8498",
        storageBucket: "livraison-c8498.firebasestorage.app",
        messagingSenderId: "403240604780",
        appId: "1:403240604780:web:77d84ad03d68bdaddfb449",
        measurementId: "G-5YF89BZ5RY"
    };
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.submitOrder = function(order) {
        const timestamp = Date.now();
        const mainCategory = order.items.length > 0 ? order.items[0].category : 'A';
        const uniqueCode = `#GE${mainCategory}${timestamp.toString().slice(-6)}`;
        
        order.code = uniqueCode;
        order.timestamp = new Date().toISOString();
        order.status = "nouveau";
        order.createdAt = new Date();
        
        return addDoc(collection(db, 'orders'), order)
            .then((docRef) => {
                console.log('Commande envoy√©e avec succ√®s, ID:', docRef.id);
                return uniqueCode;
            })
            .catch((error) => {
                console.error('Erreur Firebase:', error);
                return false;
            });
    };

    window.db = db;
</script>

<script>
    // D√âCLARATIONS GLOBALES
    let cart = [];
    let total = 0;
    let customerOrders = JSON.parse(localStorage.getItem('customerOrders')) || [];

    // Donn√©es pour les plats de riz
    const riceOptions = [
        { format: 'Petit', price: 500, icon: 'üçö', desc: 'Format individuel' },
        { format: 'Moyen', price: 1000, icon: 'ü•ò', desc: 'Pour 1-2 personnes' },
        { format: 'Grand', price: 1500, icon: 'üç≤', desc: 'Pour 2-3 personnes' },
        { format: 'XXL', price: 2000, icon: 'ü•£', desc: 'Pour la famille' }
    ];

    // Donn√©es pour les pr√©parations de porc
    const porcPreparations = [
        { type: 'Saut√©', icon: 'üî•', desc: 'Porc saut√© revenu √† la perfection' },
        { type: 'Grill√©', icon: 'üçñ', desc: 'Porc grill√© croustillant' },
        { type: 'Soupe', icon: 'üçú', desc: 'Porc en soupe savoureuse' }
    ];

    // Donn√©es pour les types de tch√®pe
    const tchepTypes = [
        { type: 'Rouge', icon: 'üî¥', desc: 'Tch√®pe sauce rouge traditionnelle' },
        { type: 'Jaune', icon: 'üü°', desc: 'Tch√®pe sauce jaune d√©licate' }
    ];

    let currentSelection = {
        type: '',
        baseName: '',
        basePrice: 0,
        format: ''
    };

    const degueTypes = {
        'raisin': {
            name: 'D√™gu√™ raisin',
            prices: {
                'Sachet': 250,
                'Petit bidon': 500,
                'Moyen bidon': 1500,
                'Grand bidon': 3000
            }
        },
        'coco': {
            name: 'D√™gu√™ coco',
            prices: {
                'Sachet': 300,
                'Petit bidon': 600,
                'Moyen bidon': 1600,
                'Grand bidon': 3500
            }
        },
        'simple': {
            name: 'D√™gu√™ simple',
            prices: {
                'Sachet': 200,
                'Petit bidon': 500,
                'Moyen bidon': 1500,
                'Grand bidon': 3000
            }
        },
        'raisin-coco': {
            name: 'D√™gu√™ raisin coco',
            prices: {
                'Sachet': 400,
                'Petit bidon': 700,
                'Moyen bidon': 1700,
                'Grand bidon': 3600
            }
        }
    };

    let currentDegueType = '';
    let currentAdIndex = 0;
    let adsAutoPlay = true;
    let adsInterval;

    // FONCTIONS DE S√âLECTION
    function selectRice(riceName) {
        currentSelection = {
            type: 'rice',
            baseName: riceName,
            basePrice: 0,
            format: ''
        };
        
        document.getElementById('selection-modal-title').textContent = `üçõ ${riceName}`;
        document.getElementById('selection-modal-subtitle').textContent = 'Choisissez votre format';
        
        const optionsContainer = document.getElementById('selection-options');
        optionsContainer.innerHTML = '';
        
        riceOptions.forEach(option => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'selection-option';
            optionDiv.onclick = () => {
                const qty = prompt(`Quantit√© de ${riceName} (${option.format}) :`, "1");
                const quantity = parseInt(qty, 10);
                if (!isNaN(quantity) && quantity > 0) {
                    addToCart(`${riceName} (${option.format})`, option.price, 'C', quantity);
                    closeSelectionModal();
                }
            };
            optionDiv.innerHTML = `
                <div class="selection-option-info">
                    <div class="selection-option-icon">${option.icon}</div>
                    <div class="selection-option-details">
                        <h4>${option.format}</h4>
                        <p>${option.desc}</p>
                    </div>
                </div>
                <div class="selection-option-price">${option.price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        document.getElementById('selection-modal').classList.add('show');
    }

    function selectPorc(price, format) {
        currentSelection = {
            type: 'porc',
            baseName: `Porc au four (${format})`,
            basePrice: price,
            format: format
        };
        
        document.getElementById('selection-modal-title').textContent = `üê∑ Porc au four (${format})`;
        document.getElementById('selection-modal-subtitle').textContent = 'Choisissez votre pr√©paration';
        
        const optionsContainer = document.getElementById('selection-options');
        optionsContainer.innerHTML = '';
        
        porcPreparations.forEach(prep => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'selection-option';
            optionDiv.onclick = () => {
                const qty = prompt(`Quantit√© de Porc ${prep.type} (${format}) :`, "1");
                const quantity = parseInt(qty, 10);
                if (!isNaN(quantity) && quantity > 0) {
                    addToCart(`Porc ${prep.type} (${format})`, price, 'D', quantity);
                    closeSelectionModal();
                }
            };
            optionDiv.innerHTML = `
                <div class="selection-option-info">
                    <div class="selection-option-icon">${prep.icon}</div>
                    <div class="selection-option-details">
                        <h4>${prep.type}</h4>
                        <p>${prep.desc}</p>
                    </div>
                </div>
                <div class="selection-option-price">${price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        document.getElementById('selection-modal').classList.add('show');
    }

    function selectTchep(tchepName, price) {
        currentSelection = {
            type: 'tchep',
            baseName: tchepName,
            basePrice: price,
            format: ''
        };
        
        document.getElementById('selection-modal-title').textContent = `üçö ${tchepName}`;
        document.getElementById('selection-modal-subtitle').textContent = 'Choisissez votre type';
        
        const optionsContainer = document.getElementById('selection-options');
        optionsContainer.innerHTML = '';
        
        tchepTypes.forEach(type => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'selection-option';
            optionDiv.onclick = () => {
                const qty = prompt(`Quantit√© de ${tchepName} ${type.type} :`, "1");
                const quantity = parseInt(qty, 10);
                if (!isNaN(quantity) && quantity > 0) {
                    addToCart(`${tchepName} ${type.type}`, price, 'B', quantity);
                    closeSelectionModal();
                }
            };
            optionDiv.innerHTML = `
                <div class="selection-option-info">
                    <div class="selection-option-icon">${type.icon}</div>
                    <div class="selection-option-details">
                        <h4>Tch√®pe ${type.type}</h4>
                        <p>${type.desc}</p>
                    </div>
                </div>
                <div class="selection-option-price">${price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        document.getElementById('selection-modal').classList.add('show');
    }

    function closeSelectionModal() {
        document.getElementById('selection-modal').classList.remove('show');
        currentSelection = {
            type: '',
            baseName: '',
            basePrice: 0,
            format: ''
        };
    }

    function selectDegue(type) {
        currentDegueType = type;
        const degueData = degueTypes[type];
        
        document.getElementById('degue-modal-title').textContent = `ü•õ Choisir votre format de ${degueData.name}`;
        
        const optionsContainer = document.getElementById('degue-options');
        optionsContainer.innerHTML = '';
        
        const formats = [
            { key: 'Sachet', icon: 'üì¶', desc: 'Format individuel' },
            { key: 'Petit bidon', icon: 'ü•§', desc: 'Pour 1-2 personnes' },
            { key: 'Moyen bidon', icon: 'ü™£', desc: 'Pour 3-4 personnes' },
            { key: 'Grand bidon', icon: 'üõ¢Ô∏è', desc: 'Pour 5+ personnes' }
        ];
        
        formats.forEach(format => {
            const price = degueData.prices[format.key];
            const optionDiv = document.createElement('div');
            optionDiv.className = 'degue-option';
            optionDiv.onclick = () => addDegueToCart(format.key, price);
            optionDiv.innerHTML = `
                <div class="degue-option-info">
                    <div class="degue-option-icon">${format.icon}</div>
                    <div class="degue-option-details">
                        <h4>${format.key}</h4>
                        <p>${format.desc}</p>
                    </div>
                </div>
                <div class="degue-option-price">${price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        const modal = document.getElementById('degue-modal');
        modal.classList.add('show');
    }

    function closeDegueModal() {
        const modal = document.getElementById('degue-modal');
        modal.classList.remove('show');
    }

    function addDegueToCart(format, price) {
        const degueData = degueTypes[currentDegueType];
        const qty = prompt(`Quantit√© de ${degueData.name} (${format}) :`, "1");
        const quantity = parseInt(qty, 10);
        if (!isNaN(quantity) && quantity > 0) {
            addToCart(`${degueData.name} (${format})`, price, 'F', quantity);
            closeDegueModal();
        }
    }

    function checkOrderingHours() {
        const now = new Date();
        const abidjanTime = new Date(now.toLocaleString("en-US", {timeZone: "Africa/Abidjan"}));
        const hour = abidjanTime.getHours();
        const minutes = abidjanTime.getMinutes();
        
        const timeAlert = document.getElementById('time-alert');
        const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
        const checkoutButton = document.querySelector('.checkout-btn');
        
        timeAlert.classList.remove('urgent', 'warning');
        
        let alertMessage = '';
        let alertClass = '';
        
        if (hour >= 0 && hour < 9) {
            alertMessage = `‚ö° URGENT : Commandez AVANT 9H pour un retrait IMM√âDIAT au rez-de-chauss√©e ! Il vous reste ${8 - hour}h${60 - minutes < 10 ? '0' : ''}${60 - minutes}min`;
            alertClass = 'urgent';
            timeAlert.style.display = 'block';
        } 
        else if (hour >= 9) {
            alertMessage = `‚ö†Ô∏è ATTENTION : Les commandes apr√®s 9H sont trait√©es pour DEMAIN - Retrait au rez-de-chauss√©e`;
            alertClass = 'warning';
            timeAlert.style.display = 'block';
        }
        
        timeAlert.innerHTML = alertMessage;
        if (alertClass) {
            timeAlert.classList.add(alertClass);
        }
        
        addToCartButtons.forEach(btn => {
            btn.disabled = false;
            if (btn.textContent.includes('‚è∞')) {
                btn.innerHTML = 'üõí Ajouter au panier';
            }
        });
        
        if (checkoutButton) {
            checkoutButton.disabled = false;
            checkoutButton.textContent = 'üéØ Commander maintenant';
        }
    }

    function slideAds(direction) {
        const slider = document.getElementById('ads-slider');
        const adsContainer = document.querySelector('.ads-container');
        const totalAds = 3;
        
        slider.style.animation = 'none';
        adsAutoPlay = false;
        clearInterval(adsInterval);
        
        if (direction === 'next') {
            currentAdIndex = (currentAdIndex + 1) % totalAds;
        } else {
            currentAdIndex = (currentAdIndex - 1 + totalAds) % totalAds;
        }
        
        const containerWidth = adsContainer.offsetWidth;
        const translateX = -(currentAdIndex * containerWidth);
        
        slider.style.transition = 'transform 0.5s ease-in-out';
        slider.style.transform = `translateX(${translateX}px)`;
        
        setTimeout(() => {
            slider.style.animation = 'slideAds 45s infinite linear';
            adsAutoPlay = true;
            startAdsAutoPlay();
        }, 5000);
    }

    function startAdsAutoPlay() {
        if (adsInterval) clearInterval(adsInterval);
        adsInterval = setInterval(() => {
            if (adsAutoPlay) {
                slideAds('next');
            }
        }, 15000);
    }

    function toggleCart() {
        const modal = document.getElementById('cart-modal');
        modal.classList.toggle('show');
    }

    function updateCartBadge() {
        const badge = document.getElementById('cart-badge');
        const totalItems = cart.reduce((sum, item) => sum + item.qty, 0);
        
        if (totalItems > 0) {
            badge.textContent = totalItems;
            badge.style.display = 'flex';
        } else {
            badge.style.display = 'none';
        }
    }

    function promptAddToCart(name, price, category) {
        const qty = prompt("Choisir la quantit√© :", "1");
        const quantity = parseInt(qty, 10);
        if (!isNaN(quantity) && quantity > 0) {
            addToCart(name, price, category, quantity);
        }
    }

    function addToCart(name, price, category, qty = 1) {
        cart.push({ name, price, category, qty });
        updateCart();
        updateCartBadge();
        
        const notification = document.createElement('div');
        notification.innerHTML = `‚úÖ ${qty} ${name} ajout√©(s) au panier!`;
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--gradient);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            z-index: 1001;
            animation: slideInRight 0.3s ease-out;
            font-weight: 600;
        `;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.remove();
        }, 3000);
    }

    function updateCart() {
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        
        cartItems.innerHTML = '';
        total = 0;
        
        if (cart.length === 0) {
            cartItems.innerHTML = `
                <div class="empty-state">
                    <div class="empty-state-icon">üõí</div>
                    <p>Votre panier est vide</p>
                </div>
            `;
        } else {
            cart.forEach((item, index) => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(item.name)}&background=E1306C&color=fff&size=40" class="cart-item-image" alt="${item.name}">
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.qty}x ${item.name}</div>
                        <div class="cart-item-price">${item.price * item.qty} FCFA</div>
                    </div>
                    <button class="remove-btn" onclick="removeFromCart(${index})">√ó</button>
                `;
                cartItems.appendChild(cartItem);
                total += item.price * item.qty;
            });
        }
        cartTotal.textContent = `Total: ${total.toLocaleString()} FCFA`;
    }

    function removeFromCart(index) {
        cart.splice(index, 1);
        updateCart();
        updateCartBadge();
    }

    function addCustomerOrderToList(orderCode, order) {
        const summary = order.items.map(i => `${i.qty}x ${i.name}`).join(', ');
        const entry = {
            code: orderCode,
            summary,
            total: order.total,
            date: new Date().toLocaleString()
        };
        customerOrders.push(entry);
        localStorage.setItem('customerOrders', JSON.stringify(customerOrders));
        updateOrdersList();
    }

    function updateOrdersList() {
        const ordersList = document.getElementById('orders-list');
        ordersList.innerHTML = '';
        
        if (customerOrders.length === 0) {
            ordersList.innerHTML = `
                <div class="empty-state">
                    <div class="empty-state-icon">üõí</div>
                    <h3>Aucune commande</h3>
                    <p>Vos commandes appara√Ætront ici</p>
                </div>
            `;
        } else {
            customerOrders.slice().reverse().forEach(entry => {
                const orderDiv = document.createElement('div');
                orderDiv.className = 'order-item-history';
                orderDiv.style.cssText = `
                    background: var(--surface);
                    border: 1px solid var(--border);
                    border-radius: 12px;
                    padding: 1rem;
                    margin-bottom: 1rem;
                `;
                orderDiv.innerHTML = `
                    <div style="font-weight: 600; color: var(--primary); margin-bottom: 0.5rem;">${entry.code}</div>
                    <div style="font-size: 0.875rem; margin-bottom: 0.5rem;">${entry.summary}</div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-weight: 600; color: var(--primary);">${entry.total} FCFA</span>
                        <span style="font-size: 0.75rem; color: var(--on-surface-light);">${entry.date}</span>
                    </div>
                `;
                ordersList.appendChild(orderDiv);
            });
        }
    }

    function toggleOrders() {
        const modal = document.getElementById('orders-modal');
        modal.classList.toggle('show');
        updateOrdersList();
    }

    function clearOrders() {
        if (confirm("Vider l'historique des commandes ?")) {
            customerOrders = [];
            localStorage.removeItem('customerOrders');
            updateOrdersList();
        }
    }

    function selectAttiekeDindon() {
        document.getElementById('selection-modal-title').textContent = 'ü¶É Atti√©k√® Dindon';
        document.getElementById('selection-modal-subtitle').textContent = 'Choisissez votre format';
        
        const optionsContainer = document.getElementById('selection-options');
        optionsContainer.innerHTML = '';
        
        const formats = [
            { name: 'Petit', price: 700, icon: 'üçΩÔ∏è', desc: 'Format individuel' },
            { name: 'Moyen', price: 1000, icon: 'ü•ò', desc: 'Pour 1-2 personnes' },
            { name: 'Grand', price: 1500, icon: 'üç≤', desc: 'Pour 2-3 personnes' },
            { name: 'XXL', price: 2000, icon: 'ü•£', desc: 'Format familial' }
        ];
        
        formats.forEach(format => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'selection-option';
            optionDiv.onclick = () => {
                const qty = prompt(`Quantit√© d'Atti√©k√® Dindon (${format.name}) :`, "1");
                const quantity = parseInt(qty, 10);
                if (!isNaN(quantity) && quantity > 0) {
                    addToCart(`Atti√©k√® Dindon (${format.name})`, format.price, 'E', quantity);
                    closeSelectionModal();
                }
            };
            optionDiv.innerHTML = `
                <div class="selection-option-info">
                    <div class="selection-option-icon">${format.icon}</div>
                    <div class="selection-option-details">
                        <h4>${format.name}</h4>
                        <p>${format.desc}</p>
                    </div>
                </div>
                <div class="selection-option-price">${format.price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        document.getElementById('selection-modal').classList.add('show');
    }

    function selectAttiekePoisson() {
        document.getElementById('selection-modal-title').textContent = 'üêü Atti√©k√® Poisson Alloko';
        document.getElementById('selection-modal-subtitle').textContent = 'Choisissez votre format';
        
        const optionsContainer = document.getElementById('selection-options');
        optionsContainer.innerHTML = '';
        
        const formats = [
            { name: 'Petit', price: 1000, icon: 'üçΩÔ∏è', desc: 'Format individuel' },
            { name: 'Moyen', price: 1500, icon: 'ü•ò', desc: 'Pour 1-2 personnes' },
            { name: 'Grand', price: 2000, icon: 'üç≤', desc: 'Format g√©n√©reux' }
        ];
        
        formats.forEach(format => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'selection-option';
            optionDiv.onclick = () => {
                const qty = prompt(`Quantit√© d'Atti√©k√® Poisson Alloko (${format.name}) :`, "1");
                const quantity = parseInt(qty, 10);
                if (!isNaN(quantity) && quantity > 0) {
                    addToCart(`Atti√©k√® Poisson Alloko (${format.name})`, format.price, 'E', quantity);
                    closeSelectionModal();
                }
            };
            optionDiv.innerHTML = `
                <div class="selection-option-info">
                    <div class="selection-option-icon">${format.icon}</div>
                    <div class="selection-option-details">
                        <h4>${format.name}</h4>
                        <p>${format.desc}</p>
                    </div>
                </div>
                <div class="selection-option-price">${format.price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        document.getElementById('selection-modal').classList.add('show');
    }

    function selectGarba() {
        document.getElementById('selection-modal-title').textContent = 'ü•ò Sp√©cialit√© Garba';
        document.getElementById('selection-modal-subtitle').textContent = 'Choisissez votre format';
        
        const optionsContainer = document.getElementById('selection-options');
        optionsContainer.innerHTML = '';
        
        const formats = [
            { name: 'Petit', price: 500, icon: 'üçΩÔ∏è', desc: 'Format individuel' },
            { name: 'Moyen', price: 1000, icon: 'ü•ò', desc: 'Pour 1-2 personnes' },
            { name: 'Grand', price: 1500, icon: 'üç≤', desc: 'Pour 2-3 personnes' },
            { name: 'XXL', price: 2000, icon: 'ü•£', desc: 'Format familial' }
        ];
        
        formats.forEach(format => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'selection-option';
            optionDiv.onclick = () => {
                const qty = prompt(`Quantit√© de Garba (${format.name}) :`, "1");
                const quantity = parseInt(qty, 10);
                if (!isNaN(quantity) && quantity > 0) {
                    addToCart(`Garba (${format.name})`, format.price, 'E', quantity);
                    closeSelectionModal();
                }
            };
            optionDiv.innerHTML = `
                <div class="selection-option-info">
                    <div class="selection-option-icon">${format.icon}</div>
                    <div class="selection-option-details">
                        <h4>${format.name}</h4>
                        <p>${format.desc}</p>
                    </div>
                </div>
                <div class="selection-option-price">${format.price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        document.getElementById('selection-modal').classList.add('show');
    }

    function selectAttiekePoulet() {
        document.getElementById('selection-modal-title').textContent = 'üçó Atti√©k√® Poulet + Condiment';
        document.getElementById('selection-modal-subtitle').textContent = 'Choisissez votre format';
        
        const optionsContainer = document.getElementById('selection-options');
        optionsContainer.innerHTML = '';
        
        const formats = [
            { name: 'Petit', price: 1000, icon: 'üçΩÔ∏è', desc: 'Format individuel' },
            { name: 'Moyen', price: 1500, icon: 'ü•ò', desc: 'Pour 1-2 personnes' },
            { name: 'Grand', price: 2000, icon: 'üç≤', desc: 'Format g√©n√©reux' }
        ];
        
        formats.forEach(format => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'selection-option';
            optionDiv.onclick = () => {
                const qty = prompt(`Quantit√© d'Atti√©k√® Poulet + Condiment (${format.name}) :`, "1");
                const quantity = parseInt(qty, 10);
                if (!isNaN(quantity) && quantity > 0) {
                    addToCart(`Atti√©k√® Poulet + Condiment (${format.name})`, format.price, 'E', quantity);
                    closeSelectionModal();
                }
            };
            optionDiv.innerHTML = `
                <div class="selection-option-info">
                    <div class="selection-option-icon">${format.icon}</div>
                    <div class="selection-option-details">
                        <h4>${format.name}</h4>
                        <p>${format.desc}</p>
                    </div>
                </div>
                <div class="selection-option-price">${format.price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        document.getElementById('selection-modal').classList.add('show');
    }

    function selectAttiekePouletAlloko() {
        document.getElementById('selection-modal-title').textContent = 'üçóüçå Atti√©k√® Poulet Alloko + Condiment';
        document.getElementById('selection-modal-subtitle').textContent = 'Choisissez votre format';
        
        const optionsContainer = document.getElementById('selection-options');
        optionsContainer.innerHTML = '';
        
        const formats = [
            { name: 'Petit', price: 1500, icon: 'üçΩÔ∏è', desc: 'Format individuel' },
            { name: 'Moyen', price: 2000, icon: 'ü•ò', desc: 'Pour 1-2 personnes' },
            { name: 'Grand', price: 2500, icon: 'üç≤', desc: 'Format g√©n√©reux' }
        ];
        
        formats.forEach(format => {
            const optionDiv = document.createElement('div');
            optionDiv.className = 'selection-option';
            optionDiv.onclick = () => {
                const qty = prompt(`Quantit√© d'Atti√©k√® Poulet Alloko + Condiment (${format.name}) :`, "1");
                const quantity = parseInt(qty, 10);
                if (!isNaN(quantity) && quantity > 0) {
                    addToCart(`Atti√©k√® Poulet Alloko + Condiment (${format.name})`, format.price, 'E', quantity);
                    closeSelectionModal();
                }
            };
            optionDiv.innerHTML = `
                <div class="selection-option-info">
                    <div class="selection-option-icon">${format.icon}</div>
                    <div class="selection-option-details">
                        <h4>${format.name}</h4>
                        <p>${format.desc}</p>
                    </div>
                </div>
                <div class="selection-option-price">${format.price} FCFA</div>
            `;
            optionsContainer.appendChild(optionDiv);
        });
        
        document.getElementById('selection-modal').classList.add('show');
    }

    // EXPOSITION DES FONCTIONS AU SCOPE GLOBAL
    window.selectRice = selectRice;
    window.selectPorc = selectPorc;
    window.selectTchep = selectTchep;
    window.closeSelectionModal = closeSelectionModal;
    window.selectDegue = selectDegue;
    window.closeDegueModal = closeDegueModal;
    window.addDegueToCart = addDegueToCart;
    window.slideAds = slideAds;
    window.promptAddToCart = promptAddToCart;
    window.removeFromCart = removeFromCart;
    window.toggleOrders = toggleOrders;
    window.clearOrders = clearOrders;
    window.toggleCart = toggleCart;
    window.selectAttiekeDindon = selectAttiekeDindon;
    window.selectAttiekePoisson = selectAttiekePoisson;
    window.selectGarba = selectGarba;
    window.selectAttiekePoulet = selectAttiekePoulet;
    window.selectAttiekePouletAlloko = selectAttiekePouletAlloko;

    // INITIALISATION AU CHARGEMENT
    document.addEventListener('DOMContentLoaded', function() {
        checkOrderingHours();
        setInterval(checkOrderingHours, 60000);
        startAdsAutoPlay();
        updateOrdersList();
    });

    // GESTION FORMULAIRE DE COMMANDE AVEC NOM ET WHATSAPP
    document.getElementById('order-form').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        if (cart.length === 0) {
            alert("Votre panier est vide !");
            return;
        }
        
        // Demander le nom
        const customerName = prompt("Entrez votre nom complet :", "");
        if (!customerName || customerName.trim() === "") {
            alert("‚ùå Veuillez entrer votre nom pour continuer");
            return;
        }
        
        // Demander le WhatsApp
        const whatsappNumber = prompt("Entrez votre num√©ro WhatsApp :\n(ex: 0712345678 ou +2250712345678)", "");
        if (!whatsappNumber || whatsappNumber.trim() === "") {
            alert("‚ùå Veuillez entrer votre num√©ro WhatsApp pour continuer");
            return;
        }
        
        // Validation simple du num√©ro
        const cleanNumber = whatsappNumber.replace(/\s+/g, '');
        if (cleanNumber.length < 8) {
            alert("‚ùå Num√©ro WhatsApp invalide. Veuillez r√©essayer.");
            return;
        }
        
        // V√©rifier la connexion
        if (!navigator.onLine) {
            alert("‚ùå Pas de connexion internet\n\nVeuillez v√©rifier votre connexion et r√©essayer.");
            return;
        }
        
        const now = new Date();
        const abidjanTime = new Date(now.toLocaleString("en-US", {timeZone: "Africa/Abidjan"}));
        const hour = abidjanTime.getHours();
        
        const loader = document.createElement('div');
        loader.id = 'order-loader';
        loader.innerHTML = `
            <div style="text-align: center;">
                <div style="font-size: 3rem; animation: spin 1s linear infinite;">‚è≥</div>
                <h3 style="margin-top: 1rem;">Envoi en cours...</h3>
                <p id="loader-status" style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.7;">Pr√©paration de votre commande...</p>
            </div>
        `;
        loader.style.cssText = `
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--surface);
            padding: 2rem 3rem;
            border-radius: 20px;
            z-index: 1002;
            box-shadow: var(--shadow-lg);
        `;
        document.body.appendChild(loader);
        
        try {
            const order = {
                customer: {
                    name: customerName.trim(),
                    whatsapp: cleanNumber
                },
                items: [...cart],
                total,
                timestamp: new Date().toISOString(),
                deliveryDate: hour >= 9 ? 'lendemain' : 'aujourdhui'
            };
            
            const orderCode = await window.submitOrder(order);
            
            loader.remove();
            
            if (!orderCode) {
                throw new Error("Code de commande non re√ßu");
            }
            
            // Sauvegarder localement
            const localOrder = {
                code: orderCode,
                order: order,
                savedAt: new Date().toISOString()
            };
            localStorage.setItem('lastSuccessfulOrder', JSON.stringify(localOrder));
            
            // Sauvegarder dans l'historique
            addCustomerOrderToList(orderCode, order);
            
            // Vider le panier
            cart = [];
            updateCart();
            updateCartBadge();
            toggleCart();
            
            // Message de succ√®s avec info de retrait
            const pickupMessage = document.createElement('div');
            let deliveryInfo = '';
            
            if (hour >= 0 && hour < 9) {
                deliveryInfo = `
                    <div style="background: linear-gradient(135deg, #28a745, #34ce57); color: white; padding: 1.5rem; border-radius: 12px; text-align: center; margin-bottom: 1rem;">
                        ‚úÖ <strong>RETRAIT IMM√âDIAT</strong><br><br>
                        Veuillez passer au rez-de-chauss√©e A 12H00<br>
                        pour le retrait de votre commande !<br><br>
                        üìç <strong>RETRAIT AU REZ-DE-CHAUSS√âE A 12H 00</strong>
                    </div>
                `;
            } else {
                deliveryInfo = `
                    <div style="background: linear-gradient(135deg, #ff9800, #f57c00); color: white; padding: 1.5rem; border-radius: 12px; text-align: center; margin-bottom: 1rem;">
                        ‚è≥ <strong>EN COURS DE TRAITEMENT</strong><br><br>
                        Votre commande sera pr√™te demain<br>
                        Retrait au rez-de-chauss√©e √† 12H00<br><br>
                        üìç <strong>RETRAIT AU REZ-DE-CHAUSS√âE A 12H OO</strong>
                    </div>
                `;
            }
            
            pickupMessage.innerHTML = `
                <button onclick="this.parentElement.remove()" style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.1); border: none; color: #333; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 20px; display: flex; align-items: center; justify-content: center;">√ó</button>
                <div style="text-align: center; margin-bottom: 1rem;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üéâ</div>
                    <h3>Commande ${orderCode} envoy√©e !</h3>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem;">Client: ${customerName}</p>
                    <p style="font-size: 0.85rem; opacity: 0.8;">WhatsApp: ${cleanNumber}</p>
                </div>
                ${deliveryInfo}
                <div style="text-align: center; font-size: 0.875rem; color: var(--on-surface-light);">
                    Merci de votre confiance ! üôè
                </div>
            `;
            pickupMessage.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: var(--surface);
                padding: 2rem;
                border-radius: 20px;
                z-index: 1002;
                max-width: 350px;
                box-shadow: var(--shadow-lg);
                border: 2px solid var(--primary);
            `;
            document.body.appendChild(pickupMessage);
            
            setTimeout(() => {
                if (pickupMessage.parentElement) {
                    pickupMessage.remove();
                }
            }, 8000);
            
        } catch (error) {
            const loaderEl = document.getElementById('order-loader');
            if (loaderEl) loaderEl.remove();
            
            console.error('Erreur d√©taill√©e:', error);
            
            let errorMessage = "";
            let errorIcon = "‚ùå";
            
            if (!navigator.onLine) {
                errorIcon = "üì°";
                errorMessage = "Connexion internet perdue\n\n";
                errorMessage += "‚Ä¢ V√©rifiez votre connexion WiFi ou donn√©es mobiles\n";
                errorMessage += "‚Ä¢ R√©essayez dans quelques instants\n\n";
                errorMessage += "üí° Votre panier est sauvegard√© !";
            } else if (error.message.includes('timeout') || error.message.includes('network')) {
                errorIcon = "‚ö†Ô∏è";
                errorMessage = "Connexion trop lente\n\n";
                errorMessage += "‚Ä¢ Votre connexion internet est tr√®s faible\n";
                errorMessage += "‚Ä¢ Rapprochez-vous d'une source WiFi\n";
                errorMessage += "‚Ä¢ Ou r√©essayez avec une meilleure connexion\n\n";
                errorMessage += "üí° Votre panier est sauvegard√© !";
            } else {
                errorIcon = "‚ö†Ô∏è";
                errorMessage = "Erreur inattendue\n\n";
                errorMessage += "‚Ä¢ Fermez et rouvrez l'application\n";
                errorMessage += "‚Ä¢ Ou contactez le support: 07 19 98 30 44\n\n";
                errorMessage += "üí° Votre panier est sauvegard√© !";
            }
            
            const errorModal = document.createElement('div');
            errorModal.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">${errorIcon}</div>
                    <h3 style="margin-bottom: 1rem; color: #dc3545;">Envoi √©chou√©</h3>
                    <p style="white-space: pre-line; line-height: 1.6; font-size: 0.95rem;">${errorMessage}</p>
                    <button onclick="this.parentElement.parentElement.remove()" style="margin-top: 1.5rem; background: var(--gradient); color: white; border: none; padding: 0.75rem 2rem; border-radius: 25px; cursor: pointer; font-weight: 600;">
                        Compris
                    </button>
                </div>
            `;
            errorModal.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: var(--surface);
                padding: 2rem;
                border-radius: 20px;
                z-index: 1003;
                max-width: 90%;
                width: 400px;
                box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            `;
            document.body.appendChild(errorModal);
        }
    });

    // Fermer les modals en cliquant √† l'ext√©rieur
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('modal') || 
            e.target.classList.contains('cart-modal') || 
            e.target.classList.contains('degue-modal') ||
            e.target.classList.contains('selection-modal')) {
            e.target.classList.remove('show');
        }
    });

    // GESTION DU SWIPE POUR LES PUBLICIT√âS
    let touchStartX = 0;
    let touchEndX = 0;
    let isTouching = false;

    const adsContainer = document.querySelector('.ads-container');
    if (adsContainer) {
        adsContainer.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
            isTouching = true;
            const slider = document.getElementById('ads-slider');
            if (slider) {
                slider.classList.add('paused');
            }
            adsAutoPlay = false;
            clearInterval(adsInterval);
        }, { passive: true });

        adsContainer.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            isTouching = false;
            handleSwipe();
            
            setTimeout(() => {
                const slider = document.getElementById('ads-slider');
                if (slider) {
                    slider.classList.remove('paused');
                }
                adsAutoPlay = true;
                startAdsAutoPlay();
            }, 5000);
        }, { passive: true });
    }

    function handleSwipe() {
        const swipeThreshold = 50;
        
        if (touchEndX < touchStartX - swipeThreshold) {
            slideAds('next');
        }
        
        if (touchEndX > touchStartX + swipeThreshold) {
            slideAds('prev');
        }
    }

    // Gestion de l'indicateur de scroll
    const navStories = document.querySelector('.nav-stories');
    const scrollHint = document.getElementById('scroll-hint');
    const scrollDots = document.querySelectorAll('.scroll-dot');
    
    if (navStories && scrollHint) {
        let hasScrolled = false;
        
        navStories.addEventListener('scroll', function() {
            if (!hasScrolled && navStories.scrollLeft > 20) {
                hasScrolled = true;
                scrollHint.style.opacity = '0';
                setTimeout(() => {
                    scrollHint.style.display = 'none';
                }, 300);
            }
            
            updateScrollDots();
        });
        
        function updateScrollDots() {
            const scrollPercentage = (navStories.scrollLeft / (navStories.scrollWidth - navStories.clientWidth)) * 100;
            
            scrollDots.forEach((dot, index) => {
                dot.classList.remove('active');
                if (scrollPercentage < 33 && index === 0) {
                    dot.classList.add('active');
                } else if (scrollPercentage >= 33 && scrollPercentage < 66 && index === 1) {
                    dot.classList.add('active');
                } else if (scrollPercentage >= 66 && index === 2) {
                    dot.classList.add('active');
                }
            });
        }
        
        setTimeout(() => {
            if (!hasScrolled) {
                scrollHint.style.transition = 'opacity 0.5s';
                scrollHint.style.opacity = '0.3';
            }
        }, 5000);
    }
</script>

<script>
// Enregistrement du Service Worker pour PWA
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
            .then((registration) => {
                console.log('Service Worker enregistr√©:', registration.scope);
            })
            .catch((error) => {
                console.log('Erreur Service Worker:', error);
            });
    });
}

// Gestion de la banni√®re d'installation PWA
let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    
    const installBanner = document.createElement('div');
    installBanner.innerHTML = `
        <div style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #ff4e00, #ff6b9d); color: white; padding: 1rem 1.5rem; border-radius: 50px; box-shadow: 0 8px 25px rgba(255, 78, 0, 0.4); z-index: 10000; display: flex; align-items: center; gap: 1rem; animation: slideUp 0.5s ease-out; max-width: 90vw;">
            <span style="font-size: 1.5rem;">üì±</span>
            <div style="flex: 1;">
                <strong>Installer l'app</strong><br>
                <small style="opacity: 0.9;">Acc√®s rapide √† vos repas</small>
            </div>
            <button id="install-btn" style="background: white; color: #ff4e00; border: none; padding: 0.5rem 1rem; border-radius: 25px; font-weight: 600; cursor: pointer;">
                Installer
            </button>
            <button id="close-install" style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; padding: 0.5rem;">√ó</button>
        </div>
    `;
    document.body.appendChild(installBanner);
    
    document.getElementById('install-btn').addEventListener('click', async () => {
        installBanner.remove();
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        console.log(`Installation: ${outcome}`);
        deferredPrompt = null;
    });
    
    document.getElementById('close-install').addEventListener('click', () => {
        installBanner.remove();
    });
});

window.addEventListener('appinstalled', () => {
    console.log('PWA install√©e avec succ√®s!');
    deferredPrompt = null;
});
</script>
